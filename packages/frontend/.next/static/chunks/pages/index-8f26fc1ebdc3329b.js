(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4147:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6246)}])},6246:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(1549),n=s(4194),r=s(3394),i=s(8808),c=s.n(i),l=s(2839);function o(){var e;let[t,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),d=(0,l.useRouter)();async function x(){var e;let t=new URLSearchParams({page:"1",pageSize:"5"}),a=(null===(e=d.query)||void 0===e?void 0:e.search)||"";a&&t.set("search",a);let n=await fetch("".concat(r.T,"/api/posts?").concat(t.toString()));s((await n.json()).items),o(!0)}return(0,n.useEffect)(()=>{x()},[null===(e=d.query)||void 0===e?void 0:e.search]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"mb-10",children:(0,a.jsxs)("div",{className:"text-center space-y-4 py-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight bg-gradient-to-r from-indigo-500 to-violet-500 text-transparent bg-clip-text",children:"Modern Web Engineering, in Public"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Production-minded writeups on TypeScript, Fastify, Prisma, Next.js, caching, and more."})]})}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Latest Posts"}),!i&&(0,a.jsxs)("div",{className:"grid gap-5 sm:grid-cols-2",children:[(0,a.jsx)("div",{className:"h-24 skeleton"}),(0,a.jsx)("div",{className:"h-24 skeleton"})]}),(0,a.jsx)("ul",{className:"grid gap-5 sm:grid-cols-2",children:t.map(e=>(0,a.jsx)("li",{className:"group rounded-xl border p-5 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition",children:(0,a.jsxs)(c(),{href:"/post/".concat(e.slug),className:"block",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg group-hover:text-indigo-400 line-clamp-2",children:e.title}),(0,a.jsxs)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["by ",e.author.username]}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:[(e.content||"").replace(/<[^>]+>/g,"").slice(0,140),(e.content||"").length>140?"â€¦":""]})]})},e.id))})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4147)}),_N_E=e.O()}]);