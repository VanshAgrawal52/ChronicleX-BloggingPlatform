(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{1802:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register-admin",function(){return t(3074)}])},3074:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var a=t(1549),r=t(9650),s=t.n(r),l=t(4194),u=t(3394),i=t(4330),o=t(1612);function c(){let[e,n]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[p,h]=(0,l.useState)(""),[m,f]=(0,l.useState)(!1),w=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"success"===n?i.Am.success(e):"error"===n?i.Am.error(e):(0,i.Am)(e)},{login:g}=(0,o.a)();async function x(n){n.preventDefault(),f(!0);try{let n=await fetch("".concat(u.T,"/api/auth/register-admin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,username:t,password:c,invite:p})});if(!n.ok){let e=await n.text();w(e||"Forbidden","error");return}let a=await n.json();g(a),w("Admin account created","success")}finally{f(!1)}}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{children:(0,a.jsx)("title",{children:"Admin Sign Up - ChronicleX"})}),(0,a.jsxs)("div",{className:"max-w-md mx-auto p-6 space-y-4 card",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Admin Sign Up"}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-3",children:[(0,a.jsx)("input",{className:"border w-full p-2 rounded",placeholder:"Email",value:e,onChange:e=>n(e.target.value)}),(0,a.jsx)("input",{className:"border w-full p-2 rounded",placeholder:"Username",value:t,onChange:e=>r(e.target.value)}),(0,a.jsx)("input",{className:"border w-full p-2 rounded",placeholder:"Password",type:"password",value:c,onChange:e=>d(e.target.value)}),(0,a.jsx)("input",{className:"border w-full p-2 rounded",placeholder:"Invite Code",value:p,onChange:e=>h(e.target.value)}),(0,a.jsx)("button",{className:"btn w-full",disabled:m,children:m?"Creating...":"Create Admin"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1802)}),_N_E=e.O()}]);