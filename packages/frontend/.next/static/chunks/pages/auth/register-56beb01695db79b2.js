(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{2805:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return r(2487)}])},6655:function(e,t,r){"use strict";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";try{if((e.headers.get("content-type")||"").includes("application/json")){let t=await e.json();if(null==t?void 0:t.message)return String(t.message);if(null==t?void 0:t.error)return String(t.error)}let t=await e.text();if(t)return t.slice(0,300)}catch(e){}return t}function a(){return"Unable to reach the server. Check your internet connection and try again."}r.d(t,{Y:function(){return n},w:function(){return a}})},2487:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(1549),a=r(4194),s=r(9650),i=r.n(s),l=r(1612),o=r(3394),u=r(4330),c=r(6655);function d(){let{login:e}=(0,l.a)(),t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"success"===t?u.Am.success(e):"error"===t?u.Am.error(e):(0,u.Am)(e)},[r,s]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[m,p]=(0,a.useState)("");async function w(n){n.preventDefault(),p("");try{let n=await fetch("".concat(o.T,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,username:d,password:f})});if(!n.ok){let e=await (0,c.Y)(n,"Registration failed");p(e),t(e,"error");return}let a=await n.json();e(a),window.location.href="/"}catch(r){let e=(0,c.w)();p(e),t(e,"error")}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Register - ChronicleX"})}),(0,n.jsx)("main",{className:"max-w-md mx-auto p-8",children:(0,n.jsxs)("div",{className:"card p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Register"}),m&&(0,n.jsx)("p",{className:"text-red-500 dark:text-red-400 mb-2 text-sm",children:m}),(0,n.jsxs)("form",{onSubmit:w,className:"space-y-3",children:[(0,n.jsx)("input",{className:"w-full p-2 rounded bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700",placeholder:"Email",value:r,onChange:e=>s(e.target.value)}),(0,n.jsx)("input",{className:"w-full p-2 rounded bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700",placeholder:"Username",value:d,onChange:e=>h(e.target.value)}),(0,n.jsx)("input",{className:"w-full p-2 rounded bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700",type:"password",placeholder:"Password",value:f,onChange:e=>g(e.target.value)}),(0,n.jsx)("button",{className:"btn w-full",type:"submit",children:"Register"})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2805)}),_N_E=e.O()}]);