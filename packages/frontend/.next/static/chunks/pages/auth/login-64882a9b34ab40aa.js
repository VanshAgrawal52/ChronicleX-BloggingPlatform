(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{1342:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(7652)}])},6655:function(e,t,n){"use strict";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";try{if((e.headers.get("content-type")||"").includes("application/json")){let t=await e.json();if(null==t?void 0:t.message)return String(t.message);if(null==t?void 0:t.error)return String(t.error)}let t=await e.text();if(t)return t.slice(0,300)}catch(e){}return t}function a(){return"Unable to reach the server. Check your internet connection and try again."}n.d(t,{Y:function(){return r},w:function(){return a}})},7652:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(1549),a=n(4194),s=n(9650),i=n.n(s),o=n(1612),l=n(4330),c=n(3394),u=n(6655);function d(){let{login:e}=(0,o.a)(),t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"success"===t?l.Am.success(e):"error"===t?l.Am.error(e):(0,l.Am)(e)},[n,s]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),[f,m]=(0,a.useState)("");async function g(r){r.preventDefault(),m("");try{let r=await fetch("".concat(c.T,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:n,password:d})});if(!r.ok){let e=await (0,u.Y)(r,"Invalid credentials");m(e),t(e,"error");return}let a=await r.json();e(a),t("Welcome back! \uD83C\uDF89 Login successful.","success"),window.location.href="/"}catch(n){let e=(0,u.w)();m(e),t(e,"error")}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Login - ChronicleX"})}),(0,r.jsx)("main",{className:"max-w-md mx-auto p-8",children:(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Login"}),f&&(0,r.jsx)("p",{className:"text-red-500 dark:text-red-400 mb-2 text-sm",children:f}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-3",children:[(0,r.jsx)("input",{className:"w-full p-2 rounded bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700",placeholder:"Email or Username",value:n,onChange:e=>s(e.target.value)}),(0,r.jsx)("input",{className:"w-full p-2 rounded bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700",type:"password",placeholder:"Password",value:d,onChange:e=>h(e.target.value)}),(0,r.jsx)("button",{className:"btn w-full",type:"submit",children:"Login"})]})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1342)}),_N_E=e.O()}]);